
<!-- TOC -->

- [一、导言](#一导言)
  - [1.目的](#1目的)
      - [本文档目标阅读对象](#本文档目标阅读对象)
  - [2.范围](#2范围)
  - [3.版本更新信息](#3版本更新信息)
- [二、系统需求规格概述](#二系统需求规格概述)
  - [1.管理员](#1管理员)
  - [2.普通用户](#2普通用户)
- [三、子系统需求规格说明](#三子系统需求规格说明)
  - [（一）博物馆网站数据采集子系统](#一博物馆网站数据采集子系统)
    - [1.子系统定义](#1子系统定义)
      - [1.1 项目来源及背景](#11-项目来源及背景)
      - [1.2 项目要达到的目标](#12-项目要达到的目标)
    - [2.环境配置](#2环境配置)
      - [2.1 系统运行软件环境](#21-系统运行软件环境)
      - [2.2 系统所用语言](#22-系统所用语言)
      - [2.3 系统所用框架](#23-系统所用框架)
        - [2.3.1 Scrapy框架简介](#231-scrapy框架简介)
        - [2.3.2 其他框架介绍](#232-其他框架介绍)
        - [2.3.3 框架工作流程](#233-框架工作流程)
        - [2.3.4 创建框架工作实例](#234-创建框架工作实例)
        - [2.3.5 scrapy框架的核心架构](#235-scrapy框架的核心架构)
    - [3.功能需求规格说明](#3功能需求规格说明)
      - [3.1 数据爬取](#31-数据爬取)
        - [3.1.1 数据内容](#311-数据内容)
        - [3.1.2 实现方法](#312-实现方法)
      - [3.2 数据加工](#32-数据加工)
        - [3.2.1 加工要求](#321-加工要求)
        - [3.2.2 实现方法](#322-实现方法)
      - [3.3 数据导入：](#33-数据导入)
      - [3.4 数据更新：](#34-数据更新)
        - [3.4.1 分析要求](#341-分析要求)
        - [3.4.2 实现方法](#342-实现方法)
    - [4.其他非功能需求](#4其他非功能需求)
      - [4.1 安全需求](#41-安全需求)
      - [4.2 可靠性需求](#42-可靠性需求)
      - [4.3 开放性需求](#43-开放性需求)
      - [4.4 系统安全性需求](#44-系统安全性需求)
  - [（二）博物馆新闻采集分析子系统](#二博物馆新闻采集分析子系统)
    - [1. 导言](#1-导言)
      - [1.1 概述](#11-概述)
      - [1.2 术语说明](#12-术语说明)
      - [1.3 缩写说明](#13-缩写说明)
      - [1.4 参考资料](#14-参考资料)
    - [2.功能模块](#2功能模块)
    - [3. 应用环境](#3-应用环境)
      - [3.1 系统所需硬件环境](#31-系统所需硬件环境)
      - [3.2 系统运行软件环境](#32-系统运行软件环境)
    - [4. 需求分析](#4-需求分析)
      - [4.1 数据获取功能](#41-数据获取功能)
        - [4.1.1 数据](#411-数据)
        - [4.1.2 获取要求](#412-获取要求)
        - [4.1.3 实现方法](#413-实现方法)
      - [4.2 数据加工功能](#42-数据加工功能)
        - [4.2.1 加工要求](#421-加工要求)
        - [4.2.2 实现方法](#422-实现方法)
      - [4.3 数据分析功能](#43-数据分析功能)
        - [4.3.1 分析要求](#431-分析要求)
        - [4.3.2 实现方法](#432-实现方法)
      - [4.4 数据定制服务功能](#44-数据定制服务功能)
        - [4.4.1 数据](#441-数据)
        - [4.4.2 定制服务要求](#442-定制服务要求)
        - [4.4.3 实现方法](#443-实现方法)
    - [5.性能要求](#5性能要求)
      - [5.1 可靠性](#51-可靠性)
      - [5.2 安全性](#52-安全性)
      - [5.3 可维护性](#53-可维护性)
      - [5.4 高效](#54-高效)
      - [5.5 有效性](#55-有效性)
  - [（三）博物馆信息服务子系统](#三博物馆信息服务子系统)
    - [1.数据浏览功能](#1数据浏览功能)
    - [2.数据查询功能](#2数据查询功能)
    - [3.用户反馈功能](#3用户反馈功能)
    - [4.数据分析功能](#4数据分析功能)
  - [（四）博物馆导览子系统](#四博物馆导览子系统)
    - [1.需求分析](#1需求分析)
      - [1.1 导览功能需求](#11-导览功能需求)
      - [1.2 详细功能](#12-详细功能)
    - [2.子系统要达到的目标](#2子系统要达到的目标)
    - [3.角色定义](#3角色定义)
    - [4.实现功能](#4实现功能)
      - [4.1 地图浏览](#41-地图浏览)
      - [4.2 博物馆信息浏览](#42-博物馆信息浏览)
      - [4.3 播放讲解](#43-播放讲解)
      - [4.4 自制讲解](#44-自制讲解)
      - [4.5 用户信息](#45-用户信息)
    - [5.页面说明](#5页面说明)
      - [5.1 地图导览界面](#51-地图导览界面)
      - [5.2 博物馆信息浏览界面](#52-博物馆信息浏览界面)
      - [5.3 播放讲解界面](#53-播放讲解界面)
      - [5.4 自制讲解](#54-自制讲解)
      - [5.5 用户个人信息管理](#55-用户个人信息管理)
    - [6.产品提交](#6产品提交)
  - [（五）后台管理子系统](#五后台管理子系统)
    - [1.系统概述](#1系统概述)
      - [1.1 来源及背景](#11-来源及背景)
      - [1.2 子系统总体结构](#12-子系统总体结构)
      - [1.3 子系统要达到的目标](#13-子系统要达到的目标)
    - [2.需求分析](#2需求分析)
      - [2.1 用户管理](#21-用户管理)
      - [2.2 讲解审核](#22-讲解审核)
      - [2.3 数据管理](#23-数据管理)
      - [2.4 数据的备份和恢复](#24-数据的备份和恢复)
    - [3.客户端功能规格](#3客户端功能规格)
      - [3.1 登录验证](#31-登录验证)
      - [3.2 用户管理](#32-用户管理)
      - [3.3 讲解审核](#33-讲解审核)
      - [3.4 数据管理](#34-数据管理)
      - [3.5 数据备份及恢复](#35-数据备份及恢复)
      - [3.6 注销](#36-注销)
    - [4.服务端功能规格](#4服务端功能规格)
      - [4.1 服务端主要功能](#41-服务端主要功能)
      - [4.2 服务端应用环境](#42-服务端应用环境)
    - [5.数据库功能规格](#5数据库功能规格)
      - [数据库主要功能](#数据库主要功能)

<!-- /TOC -->
# 一、导言
## 1.目的
该文档介绍了博物馆应用平台系统的功能需求和非功能需求，重点描述了系统的设计需求，将作为对该工具在概要设计阶段的设计输入。
#### 本文档目标阅读对象
本项目的设计、开发、测试、维护人员
## 2.范围
该文档是根据需求导出目标系统的逻辑模型，准确回答“系统必须做什么”的问题，通过建立模型的方式来描述用户的需求，对目标系统提出完整、准确、清晰、具体的要求。
## 3.版本更新信息
|修改编号|修改日期|修改位置|更新内容概述   |更新者      |
|----|----|:----|:------|:---|
| 001 | 4.20 | # | 建立基本框架 | 宋宜炜、杨晋豫、张艺朦、罗颖、肖开源  |
| 002 | 5.24 | 1，2，4 | 修改并增添内容 | 杨晋豫 |

# 二、系统需求规格概述
## 1.管理员
 登录后台管理子系统，管理用户信息和博物馆相关的信息，处理用户的非法评论等
## 2.普通用户
①能够登录信息服务子系统，查找博物馆的相关信息，起到方便用户出行、帮助用户做出行前抉择的作用；
②能够登录博物馆导览子系统，用于对线下浏览的辅助，可获取详细的展览和藏品信息



# 三、子系统需求规格说明
## （一）博物馆网站数据采集子系统
### 1.子系统定义
以下部分主要阐述项目来源、背景，项目要达到的目标以及系统整体结构。

#### 1.1 项目来源及背景
- 本项目是博物馆网站信息采集系统，主要功能包括数据爬取、数据加工、数据导入、数据更新等
- 由于博物馆网站众多，本产品致力于智能高效的搜集其他子系统需要的消息，如开馆时间、展品信息、展览信息、教育活动信息、学术研究信息等
- 删除不必要的信息，减少查询的工作量。
- 其他小组成员通过编辑筛选条件可以找出所需博物馆的信息，并且排除多余的垃圾信息，实现查找、阅读的高效与便捷。
- 筛选产品有筛选准确快速的优势、导入数据库查询定位快速准确、持续更新信息。

#### 1.2 项目要达到的目标
- 本项目设定的目标如下：
- 1.系统能够提供友好的用户界面，使操作人员的工作量最大限度的减少
- 2.系统具有良好的运行效率，能够高效的爬取信息，并进行加工处理
- 3.系统应有良好的可扩充性，可随时准备与其它小组的子系统进行对接
- 4.设计应具有灵活性，可配置，能够用于多家网站。
- 5.通过这个项目可以锻炼队伍，提高团队的开发能力和项目管理能力

### 2.环境配置

#### 2.1 系统运行软件环境
- PyCharm2018.3.1 PyCharm是一种Python IDE，带有一整套可以帮助用户在使用Python语言开发时提高其效率的工具，比如调试、语法高亮、Project管理、代码跳转、智能提示、自动完成、单元测试、版本控制。此外，该IDE提供了一些高级功能，以用于支持Django框架下的专业Web开发

#### 2.2 系统所用语言
- Python3.7.5 Python是一种跨平台的计算机程序设计语言。 是一个高层次的结合了解释性、编译性、互动性和面向对象的脚本语言。最初被设计用于编写自动化脚本(shell)，随着版本的不断更新和语言新功能的添加，越多被用于独立的、大型项目的开发。本程序中主要利用python来进行网络爬虫

#### 2.3 系统所用框架

##### 2.3.1 Scrapy框架简介
- Scrapy Scrapy是适用于Python的一个快速、高层次的屏幕抓取和web抓取框架，用于抓取web站点并从页面中提取结构化的数据。Scrapy用途广泛，可以用于数据挖掘、监测和自动化测试。 Scrapy吸引人的地方在于它是一个框架，任何人都可以根据需求方便的修改。它也提供了多种类型爬虫的基类，如BaseSpider、sitemap爬虫等，最新版本又提供了web2.0爬虫的支持。

##### 2.3.2 其他框架介绍

- Scrapy Engine(引擎)：负责Spider、ItemPipeline、Downloader、Scheduler中间的通讯，信号、数据传递等。
- Scheduler(调度器)：它负责接受引擎发送过来的Request请求，并按照一定的方式进行整理排列，入队，当引擎需要时，交还给引擎。
- Spider（爬虫）：它负责处理所有Responses,从中分析提取数据，获取Item字段需要的数据，并将需要跟进的URL提交给引擎，再次进入Scheduler(调度器)。
- Item Pipeline(管道)：它负责处理Spider中获取到的Item，并进行进行后期处理（详细分析、过滤、存储等）的地方。
- Downloader Middlewares（下载中间件）：一个可以自定义扩展下载功能的组件。
- Spider Middlewares（Spider中间件）：一个可以自定扩展和操作引擎和Spider中间通信的功能组件。

##### 2.3.3 框架工作流程
- 新建项目
  - 新建一个新的爬虫项目
- 明确目标
  - （编写items.py）：明确你想要抓取的目标
- 制作爬虫
  - （spiders/xxspider.py）：制作爬虫开始爬取网页
- 存储内容
  - （pipelines.py）：设计管道存储爬取内容

##### 2.3.4 创建框架工作实例
- 在pycharm中安装Scrapy所需要的包
  - 可以直接在setting中搜索scrapy下载，或者在pycharm中打开terminal通过输入命令pip install Scrapy来安装
- 创建一个scrapy项目
  - 在命令行终端输入Scrapy，若在命令行中显示版本等信息则证明安装成功，点击pycharm中file中的setting再点击project:下的interperter查看是否存在Scrapy包，以及观察上方project interpreter中的python版本是否正确

##### 2.3.5 scrapy框架的核心架构
- Scrapy引擎
  - 引擎是Scrapy架构的核心，负责数据和信号在组件间的传递
- 调度器
  - 存储带爬取的网址，并确定网址的优先级，决定下一次爬取的网址
- 下载中间件
  - 对引擎和下载器之间的通信进行处理（如设置代理、请求头等）
- 下载器
  - 对相应的网址进行高速下载，将互联网的响应返回给引擎，再由引擎传递给爬虫处理
- 爬虫中间件
  - 对引擎和爬虫之间的通信进行处理
- 爬虫
  - 对响应response进行处理，提取出所需的数据（可以存入items），也可以提取出接下来要爬取的网址
- 实体管道
  - 接收从爬虫中提取出来的item，并对item进行处理（清洗、验证、存储到数据库等）

### 3.功能需求规格说明

#### 3.1 数据爬取
爬取全国一级博物馆的网站信息，包括博物馆基本的介绍、参观信息（开放时间等）、展览信息、教育活动、经典藏品信息、学术研究信息等，对于展览信息可以定时更新。

##### 3.1.1 数据内容

- 主要的博物馆官网获取数据，包括藏品，教育活动，博物馆主要信息等。

##### 3.1.2 实现方法
- scrapy框架（见2.环境设置）

#### 3.2 数据加工
对于爬取的信息进行过滤和加工，抽取需要的内容。例如：对于展览页面，过滤掉无用信息，如页面广告，最终得到展览主题、展览时间、展览地点、展览介绍等信息，加工成能满足后续处理的形式。

##### 3.2.1 加工要求
- 对数据进行加工，去掉爬取过程中不合适的字符,存入数据库。
- 最好采用可配置的方式，能够用于多家博物馆网站的页面和内容。

##### 3.2.2 实现方法
- Python
- MySQL

#### 3.3 数据导入：
- 采用合适的方式保存抽取的数据，能够导入到数据库中。

#### 3.4 数据更新：
- 支持数据的持续更新。例如：根据情况，每天或每周爬取一次新的数据，更新原有数据。

##### 3.4.1 分析要求
- 能够更新数据库中的内容，最好可以定时更新。

##### 3.4.2 实现方法
- 在Windows环境中进行配置，实现定时启动爬虫。

### 4.其他非功能需求
- 响应时间需求
- 系统应能监测出各种非正常情况，如与设备的通信中断，无法连接数据库服务器等，避免出现长时间等待甚至无响应。

#### 4.1 安全需求
- 系统在传输数据时，必须保证数据的安全性
- 系统所提供的数据，必须符合道德伦理及法律要求

#### 4.2 可靠性需求
- 所有的数据都来自官方网站，以确保数据的正确性
- 支持大规模数据存储
- 系统的加载时间不大于5秒钟
- 系统支持的客户端人数满足正常需求
- 系统运行过程中，不会发生内存泄漏和进程死锁
- 如果在运行过程中发生错误，系统一般不会回到发生错误前的状态
- 从系统运行过程中查找、修复错误的时间预期不超过1天

#### 4.3 开放性需求
- 系统应具有十分的灵活性，以适应将来功能扩展的需求
- 本系统运用于小组成员内部的数据交流，通过网络进行数据传输，在建立的数据库中进行筛选
- 管理员能轻松地对数据进行更新

#### 4.4 系统安全性需求
- 系统有严格的权限管理机制，有权限者方能进入修改程序和数据。需能够防止各类误操作可能造成的数据丢失，破坏。防止用户非法获取网页以及内容。

## （二）博物馆新闻采集分析子系统

### 1. 导言

#### 1.1 概述
- 博物馆新闻采集子系统主要功能是通过程序能从主要的新闻网站上爬取博物馆相关的新闻信息，进行加工处理。主要包括数据获取、数据加工、数据分析、数据定制服务四项功能。

#### 1.2 术语说明
- 爬虫
	- 网络爬虫（又称为网页蜘蛛，网络机器人，在FOAF社区中间，更经常的称为网页追逐者），是一种按照一定的规则，自动地抓取万维网信息的程序或者脚本。另外一些不常使用的名字还有蚂蚁、自动索引、模拟程序或者蠕虫。
- 机器学习
	- 机器学习是一门多领域交叉学科，涉及概率论、统计学、逼近论、凸分析、算法复杂度理论等多门学科。专门研究计算机怎样模拟或实现人类的学习行为，以获取新的知识或技能，重新组织已有的知识结构使之不断改善自身的性能。它是人工智能的核心，是使计算机具有智能的根本途径。
- 文本分析
	- 文本分析是对文本进行解析，以便从中提取机器可读的事实。文本分析的目的是用自由文本内容创建结构化数据。这个过程可以看作是将一堆非结构化、异构的文档分割成易于管理和解释的数据块。

#### 1.3 缩写说明
- Scrapy
  - Scrapy 是用 Python 实现的一个为了爬取网站数据、提取结构性数据而编写的应用框架。
  - Scrapy 常应用在包括数据挖掘，信息处理或存储历史数据等一系列的程序中。
  - 通常我们可以很简单的通过 Scrapy 框架实现一个爬虫，抓取指定网站的内容或图片。

- SnowNLP
  - SnowNLP是一个python写的类库，可以方便的处理中文文本内容，是受到了TextBlob的启发而写的，由于现在大部分的自然语言处理库基本都是针对英文的，于是写了一个方便处理中文的类库，并且和TextBlob不同的是，这里没有用NLTK，所有的算法都是自己实现的，并且自带了一些训练好的字典。

#### 1.4 参考资料

- [Scrapy官方文档](https://docs.scrapy.org/en/latest/intro/tutorial.html)
- [Scrapy教程](https://www.runoob.com/w3cnote/scrapy-detail.html)

### 2.功能模块

![image](https://note.youdao.com/yws/api/personal/file/261AC991FE9B407C8593CCE22B021ECC?method=download&shareKey=6ebf39e5e70f914f310d009693cf6b1c)

### 3. 应用环境

#### 3.1 系统所需硬件环境

- 服务器
  - 配置信息
    - 操作系统
      - Centos7.7 x64
    - CPU
      - 1核
    - 内存
      - 2GB
    - 带宽
      - 1Mbps
  
- 客户机：普通PC

#### 3.2 系统运行软件环境

- 操作系统
  - Win10/Macos/Linux
- 数据库
  - MySQL 
- 浏览器
  - Microsoft Edge/Google Chrome
- 所需框架
  - scrapy,crontab,SnowNLP


### 4. 需求分析
#### 4.1 数据获取功能
##### 4.1.1 数据
- 主要的正规新闻网站中有关博物馆的新闻。
##### 4.1.2 获取要求
- 每一篇新闻至少包括标题、正文、发布时间三项内容
- 对于所爬取新闻，发布时间存储时设置为统一格式
- 同一篇新闻不同的发布时间的情况下，使用发布时间最新的优先原则。
- 数据内容清晰。
- 对于每篇新闻，在库中与对应的博物馆进行对应存储

##### 4.1.3 实现方法
- Python
- Scrapy
- MySQL

#### 4.2 数据加工功能
##### 4.2.1 加工要求
- 根据文本相似度和设定的阈值对新闻进行去重。
- 抽取新闻标题、正文、发布时间、新闻涉及的博物馆这四项内容
- 加工后存储的数据项定义为博物馆、发布时间、新闻标题、新闻内容或者其他能够满足后续处理的形式。
- 一篇新闻提及多家博物馆时，该篇新闻应同时对应存储与多家博物馆的相关关系
##### 4.2.2 实现方法
- Python
- Scrapy
- MySQL

#### 4.3 数据分析功能
##### 4.3.1 分析要求
- 分析每一篇新闻，判断其属于正面新闻还是负面新闻，并存储判断结果。
- 对于分析结果，以百分制的形式存储，数值越大则越偏向于正面，越小则越偏向于负面

##### 4.3.2 实现方法
- Python
- SnowNLP

#### 4.4 数据定制服务功能

##### 4.4.1 数据

- 确保已经被完整、有结构地存储在数据库中。
- 对于存储结构可以根据实现的需要，设置相应优先级，处理效率。
  
##### 4.4.2 定制服务要求

- 支持根据指定的博物馆进行新闻搜索。
- 支持根据指定的时间段、新闻性质（正面或者负面）搜索。
- 服务接口与获取信息并展示的子系统保持一致。
- 使用高效的算法，确保信息获取的敏捷、完备。

##### 4.4.3 实现方法

- Python
- Scrapy
- MySQL
- SnowNLP

### 5.性能要求

#### 5.1 可靠性
- 数据均来源于正规网站。
- 用户端获取的信息正确、完备。
  
#### 5.2 安全性
- 数据传输过程中受到保护。
- 数据库中的数据不会被恶意篡改。

#### 5.3 可维护性
- 支持定期更新和维护数据。

#### 5.4 高效 
- 用户端所获取的数据能够在短时间内被筛选和显示。
- 数据具有良好的空间存储结构，不会造成大面积空间浪费。

#### 5.5 有效性
- 根据用户端的要求，传送的数据是有效的，不包含无意义的信息。

## （三）博物馆信息服务子系统
### 1.数据浏览功能
![image](https://note.youdao.com/yws/api/personal/file/E3796D71AECD445AB754A3425A5DF4D4?method=download&shareKey=c06a5e33634501d3a331813b6e7a227b)
### 2.数据查询功能
![image](https://note.youdao.com/yws/api/personal/file/5BAFDD7F0F144504A5C0DCF055F1AA76?method=download&shareKey=742c7d069c720d665988639beffb1417)
### 3.用户反馈功能
![image](https://note.youdao.com/yws/api/personal/file/A5858C61283A439BBE0193BB909C7877?method=download&shareKey=93539cbd540a135f1aac7d2cac5f97ec)
### 4.数据分析功能
![image](https://note.youdao.com/yws/api/personal/file/59621CE65FA64B32A311CDB755119666?method=download&shareKey=371fa12de6793bd5f234919f09ff0a85)

## （四）博物馆导览子系统
### 1.需求分析
#### 1.1 导览功能需求
- 地图浏览：利用采集的130家博物馆的信息，支持一级博物馆的讲解导览。在地图上标注每个城市的博物馆，可以根据定位显示距离最近的博物馆。针对博物馆，在地图上标注该博物馆的近期展览和博物馆相关讲解。从地图可进入博物馆信息浏览、讲解等。
- 博物馆信息浏览：显示博物馆的基本信息、展览信息、藏品信息等。
- 播放讲解：播放一个博物馆、展览、藏品的相关讲解。
- 自制讲解：用户可以录制并上传关于博物馆、展览和藏品的讲解，并上传到平台，平台审核通过后，可以在手机应用中播放该讲解。
- 用户个人信息管理：用户可以注册登录该系统，设置用户名密码等个人信息。

#### 1.2 详细功能
- 注册账号：进入APP进行账号注册，设置用户名及密码。
- 登录账号：使用用户名和密码登录账号。
- 地图浏览：地图页面标注博物馆位置，可以根据定位显示距离最近的博物馆。从地图可进入博物馆信息简介、讲解等。
- 博物馆信息简介：显示博物馆基本的介绍、参观信息（开放时间等）、展览信息、经典藏品信息。
- 播放讲解：播放爬取的讲解视频，内容关于该博物馆及该博物馆的展览和藏品。
- 馆藏信息：显示博物馆藏品的介绍信息。
- 展览信息：显示博物馆近期展览主题、展览时间、展览地点、展览介绍等信息。
- 个人信息：可展示并且编辑个人信息。
- 个人信息展示：展示登录用户的用户名等信息。
- 个人信息编辑：修改用户名、密码。
- 我的讲解：可查看讲解信息、删除上传的讲解。
- 讲解信息：可查看正在审核的讲解、已发布的讲解，讲解信息包括讲解对象、讲解视频时长、发布时间（未发布的讲解无发布时间）。
- 删除讲解：对已发布的讲解进行删除。
- 退出登录：退出当前账号，跳转到登录页面。

### 2.子系统要达到的目标
- 在提供的信息准确丰富的同时，也要让使用者能方便快捷的使用本系统，让管理者能简单有效的管理更新信息。
- 系统具有良好的运行效率
- 系统有良好的可扩充性
- 平台的设计具有一定的超前性

### 3.角色定义
- 使用者:使用者是指在客户端使用本系统查询相关信息，使用导览等相关功能的人员。
- 管理者:管理者是指在管理端执行上传、更新、修正信息，以及对本系统进行维护升级等相关功能的人员。(实质是指后台管理子系统的角色定义)

### 4.实现功能
#### 4.1 地图浏览
- 采用百度地图提供的flutter插件
- 预计需要数据库接口字段

| 接口名称     | 获取结构示例          |
| ------------ | --------------------- |
| 博物馆名称   | 故宫博物院            |
| 博物馆经纬度 | (40.258911,116.15437) |

#### 4.2 博物馆信息浏览
- 预计需要数据库字段

| 接口名称       | 获取结构示例                                                 |
| -------------- | ------------------------------------------------------------ |
| 博物馆名称     | 故宫博物院                                                   |
| 博物馆地址     | 北京市东城区景山前街4号                                      |
| 博物馆介绍     | 北京故宫博物院建立于1925年10月10日，位于北京故宫紫禁城内。是在明朝、清朝两代皇宫及其收藏的基础上建立起来的中国综合性博物馆，也是中国最大的古代文化艺术博物馆，其文物收藏主要来源于清代宫中旧藏，是第一批全国爱国主义教育示范基地。 |
| 博物馆咨询电话 | :010-85007057                                                |
| 博物馆展览介绍 | 如意，像心、似云、类芝，长柄微曲，一柄在握，赏心悦目。<br/>　　中国古代有一种前端类似手形的爪杖，先是被用作背部搔痒的工具，后来经过漫长的历史演变，逐渐超越实用功能而成为吉祥之物，被称为“如意”。汉晋之际，如意称“握君”或“谈柄”，是佐清谈、助舞兴、示高逸乃至防身之物，为文人雅士所钟爱，不可须臾离手。宋代以后，如意发展成为室内陈设品。至明清时期，以灵芝造型为主的如意被赋予吉祥驱邪的涵义，更为士庶乃至帝王所青睐，成为承载祈福禳灾美好愿望的贵重礼品。如意在清代宫廷备受推崇，每逢皇帝登基、大婚或元旦、万寿等喜庆之时，天下至精至美的如意被纷纷贡入皇宫，于是宫禁之内的宝座、卧榻、案头等处，都会摆放如意。这些如意，用材考究，做工纤巧，不仅寓意吉祥，更有助于当今人们了解古人寄情的不同方式。 |
| 博物展览图片   | https://ggzlimg.dpm.org.cn/app/gugong/2021/0205/uX8j3Y3wzWMjEe8azcscYrgMIb6CyvXi7vglNNVA.jpg |
| 博物馆藏品图片 | http://www.chnmuseum.cn/zp/zpml/csp/202008/P020200826596059431566.jpg |

#### 4.3 播放讲解
- 预计需要数据库字段

| 接口名称             | 获取结构示例 |
| -------------------- | ------------ |
| 博物馆介绍视频(链接) |              |

#### 4.4 自制讲解
- 将文件上传到服务器，需要服务器提供此服务，需要内容提供器寻找文件

#### 4.5 用户信息

| 接口名称 | 获取结构示例 |
| -------- | ------------ |
| 用户名   | Aaron        |
| 密码     | password123  |

### 5.页面说明
#### 5.1 地图导览界面
- 初始显示定位，显示距离用户最近的博物馆并绘制polyline 将用户与该博物馆连接显示距离。显示所有博物馆并用marker标记，设置点击事件点击博物馆时能够导入博物馆信息浏览页面。

#### 5.2 博物馆信息浏览界面
- 显示一个列表容纳所有数据库中图书馆的索引，博物馆详细信息页面可以由地图页面和列表页面进入。博物馆信息页面包括展览信息页面以及藏品信息页面。相关展览视频以及藏品图片内嵌入展览信息和藏品信息界面。

#### 5.3 播放讲解界面
- 内嵌入博物馆信息界面，展览信息界面，藏品信息界面。

#### 5.4 自制讲解
- 提供上传视频服务，其他用户能够共享上传的视频。

#### 5.5 用户个人信息管理
- 提供设置修改用户名及密码服务

### 6.产品提交
- 应用系统软件包
- 数据库初始数据
- 需求说明规格文档

## （五）后台管理子系统
### 1.系统概述
#### 1.1 来源及背景
后台管理子系统用于管理整个系统的数据信息，主要包括用户管理，讲解审核，数据管理，数据备份和恢复四大功能。系统的的使用者主要是系统的管理员。

#### 1.2 子系统总体结构
- 本子系统分为客户端、数据库和服务端：
- 客户端主要面向管理员，供管理员使用，管理员可以通过页面实现用户管理、讲解审核、数据管理、数据恢复和备份等功能。
- 数据库存放大量数据，数据于服务端交互，通过服务端提供的接口向客户端开放数据库操作的功能。
- 服务端主要提供客户端实现业务功能的相关接口。

#### 1.3 子系统要达到的目标
1. 系统能够提供友好的用户界面，减少用户的工作量
2. 系统要具有良好的运行效率
3. 系统应该具有良好的可扩充性，可以容易的加入其他系统的应用
4. 通过这个子系统能够锻炼子系统成员，提高团队的开发能力和项目管理能力

### 2.需求分析
#### 2.1 用户管理
* 管理员登录、修改自己的基本信息
    * 登录页面简介明确
    * 注销时删除留在浏览器中的信息
    * 修改密码功能
* 发布、删除日志
    * 记录管理员的操作
* 管理普通用户
    * 查看、修改、删除用户信息

#### 2.2 讲解审核
审核分为已审核和未审核两部分
* 未审核
    * 管理员可以审核其内容，决定通过或不通过
* 已审核
    * 管理员可查看已审核过的讲解

#### 2.3 数据管理
* 对博物馆基本信息的管理
    * 博物馆的基本信息的修改、删除操作
* 对藏品信息的管理
    * 藏品信息的修改、删除操作
* 对新闻信息的管理
    * 新闻信息的修改、删除操作
* 对讲解信息的管理
    * 讲解信息的审核、删除操作
* 对评论的管理
    * 评论的删除操作

#### 2.4 数据的备份和恢复
* 备份数据库：对指定表进行备份。
* 恢复数据库：可还原指定的表，可删除已备份的表。

### 3.客户端功能规格
#### 3.1 登录验证
* 用例描述：用户发起登录验证登录后台管理子系统
* 执行者：管理员
* 前置条件：无
* 后置条件：无
* 基本路径：
    1. 用户通过地址访问登录页面
    2. 用户输入账号密码并提交
    3. 客户端发起请求，等待服务端返回信息
    4. 客户端根据返回结果进行响应

#### 3.2 用户管理
* 用例描述：用户要进行用户管理相关操作
* 执行者：管理员
* 前置条件：用户已经登录
* 后置条件：无
* 基本路径：
    1. 用户在左菜单栏选择用户管理页面
    2. 在用户管理页面选择相关操作，并输入相关信息
    3. 客户端发起请求，等待服务端返回信息
    4. 客户端根据返回结果进行响应

#### 3.3 讲解审核
* 用例描述：用户要进行讲解审核相关操作
* 执行者：管理员
* 前置条件：用户已经登录
* 后置条件：无
* 基本路径：
    1. 用户在左菜单栏选择讲解审核页面
    2. 在讲解审核页面选择相关操作，并输入相关信息
    3. 客户端发起请求，等待服务端返回信息
    4. 客户端根据返回结果进行响应

#### 3.4 数据管理
* 用例描述：用户要进行数据管理相关操作
* 执行者：管理员
* 前置条件：用户已经登录
* 后置条件：无
* 基本路径：
    1. 用户在左菜单栏选择数据管理页面
    2. 进入数据管理页面选择相关操作，输入相关信息
    3. 客户端发起请求，等待服务端返回信息
    4. 客户端根据其返回结果进行响应

#### 3.5 数据备份及恢复
* 用例描述：用户要进行数据备份以及恢复相关操作
* 执行者：超级管理员
* 前置条件：用户已经登录
* 后置条件：无
* 基本路径：
    1. 用户在左菜单栏选择数据备份和恢复页面
    2. 进入数据备份和恢复页面选择相关操作，输入相关信息
    3. 客户端发起请求，等待服务端返回信息
    4. 客户端根据其返回结果进行响应

#### 3.6 注销
* 用例描述：用户退出登录状态
* 执行者：管理员
* 前置条件：用户已经登录
* 后置条件：无
* 基本路径
    1. 用户在上方菜单栏选择注销功能
    2. 客户端发起请求，等待服务端返回信息
    3. 客户端根据其返回结果进行响应

### 4.服务端功能规格
#### 4.1 服务端主要功能
- 提供相关功能的接口
- 管理数据存放的数据库

#### 4.2 服务端应用环境
- 硬件环境
    * CPU >= 1核
    * 内存 >= 512Mb
- 网络环境
    * 拥有公网IP
    * 带宽 >= 1Mbps

### 5.数据库功能规格
#### 数据库主要功能
- 存放大量结构化数据
- 提供高效的数据操作功能（如使用SQL语句进行查询等）